[gd_scene load_steps=14 format=3 uid="uid://byosm6kwjujrd"]

[ext_resource type="Script" path="res://Prefabs/Player.gd" id="1_okwfa"]
[ext_resource type="PackedScene" uid="uid://c6qs6h5ebcg4q" path="res://Prefabs/PlayerBullet.tscn" id="2_86q4p"]
[ext_resource type="Script" path="res://Prefabs/PlayerUI.gd" id="3_7gj4f"]
[ext_resource type="Texture2D" uid="uid://cxepkpc338ryp" path="res://UI/Game/HealthBG.png" id="3_xvyfe"]
[ext_resource type="Theme" uid="uid://bohv013kb04n8" path="res://UI/Styles/PlainTextLabel.tres" id="4_gqqo2"]
[ext_resource type="Texture2D" uid="uid://b2pxykik6pq58" path="res://UI/Game/HealthFG.png" id="4_hpysl"]
[ext_resource type="Texture2D" uid="uid://kfpmtgqdlmy3" path="res://Sprites/Forcefield/FlashImage.png" id="5_qv4qj"]
[ext_resource type="Texture2D" uid="uid://ux5f6maiondr" path="res://UI/Game/ForcefieldBarBG.png" id="6_emh5t"]
[ext_resource type="Texture2D" uid="uid://b3rgvescw7lvv" path="res://UI/Game/ForcefieldBarFG.png" id="7_p2ehw"]
[ext_resource type="Theme" uid="uid://db741c2hbeopy" path="res://UI/Styles/MenuButton1.tres" id="9_3kfrd"]
[ext_resource type="Texture2D" uid="uid://h5lqae530qsp" path="res://Sprites/Forcefield/ForcefieldTemp.png" id="10_qy6vq"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3aa34"]
size = Vector2(4000, 4000)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_pxakj"]
blend_mode = 1

[node name="PlayerCamera" type="Camera2D" node_paths=PackedStringArray("uiRef")]
anchor_mode = 0
script = ExtResource("1_okwfa")
BulletPrefab = ExtResource("2_86q4p")
uiRef = NodePath("CanvasLayer")

[node name="RigidBody2D" type="RigidBody2D" parent="."]
collision_layer = 2
collision_mask = 2
input_pickable = true
gravity_scale = 0.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="RigidBody2D"]
shape = SubResource("RectangleShape2D_3aa34")

[node name="ForcefieldOverlay" type="Sprite2D" parent="RigidBody2D"]
z_index = 10
texture = ExtResource("10_qy6vq")
offset = Vector2(512, 320)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
script = ExtResource("3_7gj4f")

[node name="FlashImage" type="TextureRect" parent="CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("5_qv4qj")

[node name="Label" type="Label" parent="CanvasLayer"]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
editor_description = ""
visible = true
modulate = Color(1, 1, 1, 1)
self_modulate = Color(1, 1, 1, 1)
show_behind_parent = false
top_level = false
clip_children = 0
light_mask = 1
visibility_layer = 1
z_index = 0
z_as_relative = true
y_sort_enabled = false
texture_filter = 0
texture_repeat = 0
material = null
use_parent_material = false
clip_contents = false
custom_minimum_size = Vector2(0, 0)
layout_direction = 0
layout_mode = 3
anchors_preset = 0
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = 0.0
offset_top = 0.0
offset_right = 79.0
offset_bottom = 34.0
grow_horizontal = 1
grow_vertical = 1
rotation = 0.0
scale = Vector2(1, 1)
pivot_offset = Vector2(0, 0)
size_flags_horizontal = 1
size_flags_vertical = 4
size_flags_stretch_ratio = 1.0
auto_translate = true
localize_numeral_system = true
tooltip_text = ""
focus_neighbor_left = NodePath("")
focus_neighbor_top = NodePath("")
focus_neighbor_right = NodePath("")
focus_neighbor_bottom = NodePath("")
focus_next = NodePath("")
focus_previous = NodePath("")
focus_mode = 0
mouse_filter = 2
mouse_force_pass_scroll_events = true
mouse_default_cursor_shape = 0
theme = ExtResource("4_gqqo2")
theme_type_variation = &""
text = "Health:"
label_settings = null
horizontal_alignment = 0
vertical_alignment = 0
autowrap_mode = 0
justification_flags = 163
clip_text = false
text_overrun_behavior = 0
uppercase = false
tab_stops = PackedFloat32Array()
lines_skipped = 0
max_lines_visible = -1
visible_characters = -1
visible_characters_behavior = 0
visible_ratio = 1.0
text_direction = 0
language = ""
structured_text_bidi_override = 0
structured_text_bidi_override_options = []
script = null

[node name="ScoreLabel" type="Label" parent="CanvasLayer"]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
editor_description = ""
visible = true
modulate = Color(1, 1, 1, 1)
self_modulate = Color(1, 1, 1, 1)
show_behind_parent = false
top_level = false
clip_children = 0
light_mask = 1
visibility_layer = 1
z_index = 0
z_as_relative = true
y_sort_enabled = false
texture_filter = 0
texture_repeat = 0
material = null
use_parent_material = false
clip_contents = false
custom_minimum_size = Vector2(0, 0)
layout_direction = 0
layout_mode = 3
anchors_preset = 0
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = 296.0
offset_top = 0.0
offset_right = 662.0
offset_bottom = 34.0
grow_horizontal = 1
grow_vertical = 1
rotation = 0.0
scale = Vector2(1, 1)
pivot_offset = Vector2(0, 0)
size_flags_horizontal = 1
size_flags_vertical = 4
size_flags_stretch_ratio = 1.0
auto_translate = true
localize_numeral_system = true
tooltip_text = ""
focus_neighbor_left = NodePath("")
focus_neighbor_top = NodePath("")
focus_neighbor_right = NodePath("")
focus_neighbor_bottom = NodePath("")
focus_next = NodePath("")
focus_previous = NodePath("")
focus_mode = 0
mouse_filter = 2
mouse_force_pass_scroll_events = true
mouse_default_cursor_shape = 0
theme = ExtResource("4_gqqo2")
theme_type_variation = &""
text = "Score: 0000000000"
label_settings = null
horizontal_alignment = 0
vertical_alignment = 0
autowrap_mode = 0
justification_flags = 163
clip_text = false
text_overrun_behavior = 0
uppercase = false
tab_stops = PackedFloat32Array()
lines_skipped = 0
max_lines_visible = -1
visible_characters = -1
visible_characters_behavior = 0
visible_ratio = 1.0
text_direction = 0
language = ""
structured_text_bidi_override = 0
structured_text_bidi_override_options = []
script = null

[node name="HealthBG" type="TextureRect" parent="CanvasLayer"]
offset_left = 72.0
offset_top = 2.0
offset_right = 263.0
offset_bottom = 66.0
texture = ExtResource("3_xvyfe")
expand_mode = 1
stretch_mode = 1

[node name="Unit0" type="TextureRect" parent="CanvasLayer/HealthBG"]
modulate = Color(1, 0, 0, 1)
layout_mode = 0
offset_right = 32.0
offset_bottom = 64.0
texture = ExtResource("4_hpysl")

[node name="Unit1" type="TextureRect" parent="CanvasLayer/HealthBG"]
modulate = Color(1, 0.607843, 0, 1)
layout_mode = 0
offset_left = 35.0
offset_right = 67.0
offset_bottom = 64.0
texture = ExtResource("4_hpysl")

[node name="Unit2" type="TextureRect" parent="CanvasLayer/HealthBG"]
modulate = Color(0, 0.607843, 0, 1)
layout_mode = 0
offset_left = 67.0
offset_right = 99.0
offset_bottom = 64.0
texture = ExtResource("4_hpysl")

[node name="Unit3" type="TextureRect" parent="CanvasLayer/HealthBG"]
modulate = Color(0, 1, 0, 1)
layout_mode = 0
offset_left = 97.0
offset_right = 129.0
offset_bottom = 64.0
texture = ExtResource("4_hpysl")

[node name="Unit4" type="TextureRect" parent="CanvasLayer/HealthBG"]
modulate = Color(0, 0, 1, 1)
layout_mode = 0
offset_left = 130.0
offset_right = 162.0
offset_bottom = 64.0
texture = ExtResource("4_hpysl")

[node name="Unit5" type="TextureRect" parent="CanvasLayer/HealthBG"]
modulate = Color(0, 0.509804, 1, 1)
layout_mode = 0
offset_left = 159.0
offset_right = 191.0
offset_bottom = 64.0
texture = ExtResource("4_hpysl")

[node name="ForcefieldChargeBG" type="TextureRect" parent="CanvasLayer"]
offset_left = 73.0
offset_top = 71.0
offset_right = 253.0
offset_bottom = 91.0
texture = ExtResource("6_emh5t")

[node name="ForcefieldChargeFG" type="NinePatchRect" parent="CanvasLayer/ForcefieldChargeBG"]
material = SubResource("CanvasItemMaterial_pxakj")
layout_mode = 0
offset_right = 180.0
offset_bottom = 20.0
texture = ExtResource("7_p2ehw")
patch_margin_left = 8
patch_margin_right = 8

[node name="ForcefieldButton" type="Button" parent="CanvasLayer"]
offset_left = 2.0
offset_top = 30.0
offset_right = 63.0
offset_bottom = 98.0
theme = ExtResource("9_3kfrd")
keep_pressed_outside = true
text = "

Field"

[connection signal="input_event" from="RigidBody2D" to="." method="_on_rigid_body_2d_input_event"]
[connection signal="button_down" from="CanvasLayer/ForcefieldButton" to="." method="_on_forcefield_button_button_down"]
[connection signal="button_up" from="CanvasLayer/ForcefieldButton" to="." method="_on_forcefield_button_button_up"]
